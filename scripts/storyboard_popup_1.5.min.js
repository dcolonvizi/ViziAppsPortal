function refresh() { var a = document.getElementById("form1"); a.submit() } function exportStoryBoard() { var a = document.getElementById("storyboard_html"); var b = document.getElementById("treeview_container"); a.value = xmlencode(b.innerHTML); var c = document.getElementById("ExportDesignClick"); c.click() } function xmlencode(a) { return a.replace(/\&/g, "&" + "amp;").replace(/</g, "&" + "lt;").replace(/>/g, "&" + "gt;").replace(/\'/g, "&" + "apos;") } function onPageViewMouseOut(a, b) { $(".hightlight_field").remove(); $(".hightlight_target").remove(); $(".hightlight_connection").remove(); $(".hightlight_contact").remove() } function onPageViewMouseOver(a, b) { var c = b.get_node(); var d = c.get_text(); try { var e = c.get_parent().get_text() } catch (f) { return } var g = c.get_value(); if (g == null) return; var h = g.split(";"); if ($("#SelectedAppType")[0].value == "web") { var i = parseFloat($("#XScaleFactor")[0].value); var j = parseFloat($("#YScaleFactor")[0].value); var k = parseInt(h[0].split(":")[1]) * i; var l = parseInt(h[1].split(":")[1]) * j - 6 + 2; var m = parseInt(h[2].split(":")[1]) * i; var n = parseInt(h[3].split(":")[1]) * j } else { var k = parseInt(h[0].split(":")[1]) / 2; var l = parseInt(h[1].split(":")[1]) / 2 - 6 + 2; var m = parseInt(h[2].split(":")[1]) / 2; var n = parseInt(h[3].split(":")[1]) / 2 } var o = e + "_container"; var p = $('[id*="' + e + '_PageImage"]')[0]; l -= p.height; var q = p.parentNode; q.id = o; var r = p.width + 4; var s = p.height + 4; $("#" + o).css("height", s + "px"); $("#" + o).css("width", r + "px"); $("#" + o).append('<div class="hightlight_field" style="position:relative;left:' + k + "px;top:" + l + "px;width:" + m + "px;height:" + n + 'px;border-style:solid;border-width:3px;border-color:red;"/>'); if (h.length > 4) { var t = h[4].split(":")[1]; image_node2 = $('[id*="' + t + '_PageImage"]')[0]; o = t + "_container"; l -= image_node2.height; q = image_node2.parentNode; q.id = o; r = image_node2.width + 4; s = image_node2.height + 4; $("#" + o).css("height", s + "px"); $("#" + o).css("width", r + "px"); l = -image_node2.height - 4; if (t == e) l -= n + 6; $("#" + o).append('<div class="hightlight_target" style="position:relative;left:0px;top:' + l + "px;width:" + image_node2.width + "px;height:" + image_node2.height + 'px;border-style:solid;border-width:3px;border-color:red;"/>'); if (t != e) { var u = $(".hightlight_field").offset(); var v = $(".hightlight_target").offset(); var w = parseInt(u.left) + parseInt($(".hightlight_field").width()) / 2; var x = w - 5; if (u.top < v.top) { var y = v.top - u.top - n - 3; var z = u.top + n + 3; $("#" + o).append('<div class="hightlight_connection" style="position:absolute;left:' + w + "px;top:" + z + "px;width:3px;height:" + y + 'px;border-left-style:solid;border-width:3px;border-color:red;"/>'); var A = z - 5 + y; $("#" + o).append('<div class="hightlight_contact" style="position:absolute;left:' + x + "px;top:" + A + 'px;width:13px;height13px"><img src="../images/red_ball.png"/></div>') } else { var y = u.top - v.top - image_node2.height - 3; var z = v.top + image_node2.height + 3; $("#" + o).append('<div class="hightlight_connection" style="position:absolute;left:' + w + "px;top:" + z + "px;width:3px;height:" + y + 'px;border-left-style:solid;border-width:3px;border-color:red;"/>'); var A = z - 5; $("#" + o).append('<div class="hightlight_contact" style="position:absolute;left:' + x + "px;top:" + A + 'px;width:13px;height13px"><img src="../images/red_ball.png"/></div>') } } } } function checkRefresh() { var a = parent.window.document.getElementById("SavedCanvasHtml"); if (a.value.length > 0) parent.window.document.getElementById("storyBoard").src = parent.window.document.getElementById("storyBoard").src } function goToPage(a) { var b = parent.window.document.getElementById("PageName"); b.value = a; checkRefresh(); var c = parent.window.document.getElementById("GoToPage"); c.click() } function PageTreeViewNode_Clicked(a, b) { } $(function () { }); var saved_field_name