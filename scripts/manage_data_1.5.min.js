function setDataSource(a, b) { DataSourceRef = a } function onSelectAppDataSource(a, b) { var c = document.getElementById("EditAppDataSource"); var d = document.getElementById("DeleteAppDataSource"); if (a._text == "Select ->" || a._itemData.length == 0) { c.style.display = "none"; d.style.display = "none" } else { c.style.display = "inline"; d.style.display = "inline" } } function onManagePageDataLoad() { var a = document.getElementById("EditAppDataSource"); var b = document.getElementById("DeleteAppDataSource"); if (DataSourceRef._text == "Select ->" || DataSourceRef._itemData.length == 0) { a.style.display = "none"; b.style.display = "none" } else { a.style.display = "inline"; b.style.display = "inline" } } function newAppDataSource() { var a = document.getElementById("NewAppDataSourceContainer"); a.style.display = "inline"; var b = document.getElementById("EditAppDataSource"); b.style.display = "none"; var c = document.getElementById("DeleteAppDataSource"); c.style.display = "none" } function addAppDataSource(a, b) { switch (a.get_value()) { case "google_spreadsheet": parent.window.addGoogleSpreadsheetDataSource(); break; case "rss_feed": parent.window.addRSSDataSource(); break; case "rest_web_service": parent.window.addRESTWebServiceDataSource(); break; case "soap_web_service": parent.window.addSOAPWebServiceDataSource(); break; case "sql_database": parent.window.addSQLDatabaseDataSource(); break; default: return } a.trackChanges(); var c = a.findItemByText("Select ->"); c.select(); a.commitChanges(); cancelNewAppDataSource(); var d = document.getElementById("EditAppDataSource"); var e = document.getElementById("DeleteAppDataSource"); if (a._text == "Select ->" || a._itemData.length == 0) { d.style.display = "none"; e.style.display = "none" } else { d.style.display = "inline"; e.style.display = "inline" } } function cancelNewAppDataSource() { var a = document.getElementById("NewAppDataSourceContainer"); a.style.display = "none"; var b = document.getElementById("EditAppDataSource"); b.style.display = "inline"; var c = document.getElementById("DeleteAppDataSource"); c.style.display = "inline" } function editAppDataSource() { var a = DataSourceRef.get_value(); var b = a.substring(a.indexOf(":") + 1); var c = a.substring(0, a.indexOf(":")); switch (b) { case "google_spreadsheet": parent.window.editGoogleSpreadsheetDataSource(c); break; case "rss_feed": parent.window.editRSSDataSource(c); break; case "rest_web_service": parent.window.editRESTWebServiceDataSource(c); break; case "soap_web_service": parent.window.editSOAPWebServiceDataSource(c); break; case "sql_database": parent.window.editSQLDatabaseDataSource(c); break; default: return } } function showSelectDataSource() { var a = document.getElementById("SelectDataSourceContainer"); a.style.display = "inline"; var b = document.getElementById("RemovePageDataSource"); b.style.display = "none" } function cancelShowPageDataSource() { var a = document.getElementById("SelectDataSourceContainer"); a.style.display = "none"; var b = document.getElementById("RemovePageDataSource"); b.style.display = "inline" } function onNodeDragging(a, b) { var c = b.get_htmlElement(); if (!c) return; if (c.tagName == "INPUT") { c.style.cursor = "hand" } } function onNodeDropping(a, b) { var c = b.get_htmlElement(); if (c.tagName.toLowerCase() == "input" && c.className != "rcbInput") { c.style.cursor = "default"; c.value = b.get_sourceNode().get_text(); b.set_cancel(true); if (c.id.indexOf("command_condition_device_field1") >= 0) { command_condition_device_field1_Changed(c) } else if (c.id.indexOf("command_condition_device_field2") >= 0) { command_condition_device_field2_Changed(c) } else if (c.id.indexOf("condition_2nd_field") >= 0) { condition_2nd_field_Changed(c) } else if (c.id.indexOf("device_field") >= 0) { phone_field_Changed(c) } return true } } function reloadManageDataURL(a, b) { var c = document.getElementById("ManageDataPanel"); var d = document.getElementById("ManageData"); if (b.EventTarget == "RemovePageDataSource") { var e = document.getElementById("PageDataSources"); var f = e.control.get_items(); if (f.get_count() == 0) { c.style.display = "none"; return } c.style.display = "inline"; d.src = d.src } else if (b.EventTarget == "PageDataSources" || b.EventTarget == "SelectAppDataSource") { c.style.display = "none" } else if (b.EventTarget == "EventField") { var g = document.getElementById("EventField").control.get_value(); if (g == "->") { c.style.display = "none"; return } else { c.style.display = "inline"; d.src = d.src } } } var DataSourceRef