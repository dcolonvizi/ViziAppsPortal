function getRadWindow() { if (window.radWindow) { return window.radWindow } if (window.frameElement && window.frameElement.radWindow) { return window.frameElement.radWindow } return null } function OnClientPickerTypeLoadHandler(a) { combo = a; if (picker_options != undefined) { var b = picker_options.split("|"); if (b.length == 1 || getAppType() == "web") { var c = document.getElementById("section1Options"); c.value = b[0].replaceAll(";", "\n") } else if (b.length == 2) { var d = document.getElementById("sections2Options1"); d.value = b[0].replaceAll(";", "\n"); var e = document.getElementById("sections2Options2"); e.value = b[1].replaceAll(";", "\n") } else if (b.length == 3) { var f = document.getElementById("sections3Options1"); f.value = b[0].replaceAll(";", "\n"); var g = document.getElementById("sections3Options2"); g.value = b[1].replaceAll(";", "\n"); var h = document.getElementById("sections3Options3"); h.value = b[2].replaceAll(";", "\n") } else if (b.length == 4) { var i = document.getElementById("sections4Options1"); i.value = b[0].replaceAll(";", "\n"); var j = document.getElementById("sections4Options2"); j.value = b[1].replaceAll(";", "\n"); var k = document.getElementById("sections4Options3"); k.value = b[2].replaceAll(";", "\n"); var l = document.getElementById("sections4Options4"); l.value = b[3].replaceAll(";", "\n") } picker_options = undefined } } function initDialog() { ArgList = parent.window.getDialogInputArgs(); for (var a = 0; a < ArgList.length; a++) { if (ArgList[a] == null) ArgList[a] = "" } var b = document.getElementById("PickerName"); b.value = ArgList[0]; if (ArgList[0].length > 0) { var c = document.getElementById("insertButtonID"); c.value = "Update Picker"; var d = ArgList[1].split(":"); do_select = true; selected_item = d[0]; var e = document.getElementById("section_names"); e.value = d[1]; picker_options = ArgList[2]; OnClientPickerTypeLoadHandler(combo); if (combo.get_value() != selected_item) { combo.trackChanges(); var f = combo.findItemByValue(selected_item); if (f) { f.select() } combo.commitChanges() } style = ArgList[3] } } function FilterOptions(a) { var b = a.replaceAll("\r\n", ";").replaceAll("\n", ";").replaceAll(";;", ";"); if (b[b.Length - 1] == ";") return b.remove(b.Length - 1); else return b } function insertPicker() { var a = combo.get_value(); if (a != "date" && a != "time") { var b = document.getElementById("SectionPages"); var c = b.control._selectedIndex; var d = document.getElementById("options"); var e = "|"; if (c == 1) { d.value = FilterOptions(document.getElementById("section1Options").value) } else if (c == 2) { d.value = FilterOptions(document.getElementById("sections2Options1").value) + e + FilterOptions(document.getElementById("sections2Options2").value) } else if (c == 3) { d.value = FilterOptions(document.getElementById("sections3Options1").value) + e + FilterOptions(document.getElementById("sections3Options2").value) + e + FilterOptions(document.getElementById("sections3Options3").value) } else if (c == 4) { d.value = FilterOptions(document.getElementById("sections4Options1").value) + e + FilterOptions(document.getElementById("sections4Options2").value) + e + FilterOptions(document.getElementById("sections4Options3").value) + e + FilterOptions(document.getElementById("sections4Options4").value) } } var f = document.getElementById("PickerName"); if (f.value == null || f.value == "") { alert("Internal Picker Name must be filled"); return } if (!IsValidObjectName(f.value)) { alert('Picker Name can only contain either a letter, number, space or "_" and be 1 to 100 characters long'); return } f.value = f.value.replaceAll(" ", "_"); ArgList[0] = f.value; if (a != "date" && a != "time") { var g = document.getElementById("section_names"); if (g.value == null || g.value == "") { alert("No Section Names"); return } g.value = g.value.replaceAll(" ", "_"); var h = g.value.split(","); var i = h.length; var j = "The number of fields for the selected picker type do not match"; switch (a) { case "1_section": if (i != 1) { alert(j); return } break; case "2_sections": if (i != 2) { alert(j); return } break; case "3_sections": if (i != 3) { alert(j); return } break; case "4_sections": if (i != 4) { alert(j); return } break } ArgList[1] = a + ":"; var k = true; for (var l = 0; l < h.length; l++) { h[l] = h[l].trim().replaceAll(" ", "_"); if (f.value == h[l]) { alert("The Picker Name and the Picker Section Name " + h[l] + " cannot be the same"); return } if (k) k = false; else ArgList[1] += ","; ArgList[1] += h[l] } var d = document.getElementById("options"); ArgList[2] = d.value } else { ArgList[1] = a; ArgList[2] = "" } ArgList[3] = style; parent.window.InsertPickerCallback(ArgList) } if (window.attachEvent) { window.attachEvent("onload", initDialog) } else if (window.addEventListener) { window.addEventListener("load", initDialog, false) } var ArgList = null; var combo; var do_select = false; var selected_item; var picker_options